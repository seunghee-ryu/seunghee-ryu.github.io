# 캡슐화(encapsulation)

- 클래스를 작성한 사람의 의도와 다르게 사용하지 못하도록 하는 것이 캡슐화다.
- 필드나 메서드의 외부 접근 범위를 조정하는 문법.

- 직접 값에 엑세스 할 수 없어도 다른 메서드를 통해서 값을 알아낼 수 있다.
- get으로 시작하는 메서드.
- 메서드의 이름이 get으로 시작한다고 해서 게터(getter)라고 부른다. 이런 게터는 공개 모드로 설정한다.(public을 붙인다.)

- 필드의 값을 변경할때마다 뭔가를 해야하는 경우 해당 값에 직접적으로 엑세스 하는 것을 막는다.
- 대신 메서드를 통해 값을 설정하게 한다.
- 이러한 메서드를 세터(setter) 라고 한다. 이런 세터는 공개 모드로 설정한다.

- 직접 접근해도 되는 것도 프로그램의 일관성을 위해 세터나 게터로 만든다.
- 필드는 프라이빗으로 막고 그 필드의 값을 쓸 때는 게터나 세터를 사용해 엑세스한다.

- 인스턴스의 변수에 추상화 목적에 맞는 유효한 값만 넣을 수 있도ㅗㄱ 외부 접근을 제한하는 문법
- private로 제한해도 중첩 클래스(nested class)인 경우에는 접근 가능하다.

- 게터, 세터를 사용하면 확장성을 고려한 코딩이 된다.

- protected는 자식 클래스이면서 자식 클래스로 만든 변수(자기 변수)일 경우 자식 클래스에서 접근 가능하다. 즉, 수퍼 클래스의 설계도로 만든 변수는 접근이 불가능하다.

- 생성자를 private로 만들면 인스턴스를 생성할 수 없다.
- 개발자가 직접 인스턴스를 만들어 초기화 시키는 과정이 너무 복잡할 경우 다른 메서드를 통해 인스턴스를 생성한다.
- factory method 설계 방법
- 대표적인 예가 캘린더

{% highlight ruby %}
 protected Calendar(TimeZone zone, Locale aLocale)
    {
        fields = new int[FIELD_COUNT];
        isSet = new boolean[FIELD_COUNT];
        stamp = new int[FIELD_COUNT];

        this.zone = zone;
        setWeekCountData(aLocale);
    }

 public static Calendar getInstance()
    {
        Locale aLocale = Locale.getDefault(Locale.Category.FORMAT);
        return createCalendar(defaultTimeZone(aLocale), aLocale);
    }
{% endhighlight %}
