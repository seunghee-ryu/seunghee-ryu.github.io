---
layout : post
title :  2020-10-28 TIL
categories : TIL
layout : single
toc : true 
toc_sticky : true
---

# sql

## join

### natural join: 같은 이름을 가진 컬럼 값을 기준으로 연결한다.

```
MariaDB [studydb]> /* natural join: 같은 이름을 가진 컬럼 값을 기준으로 레코드를 연결한다. */
MariaDB [studydb]> select m.mno, name, s.mno, work, bank
    -> from memb m natural join stnt s; 
+-----+------+-----+------+--------------+
| mno | name | mno | work | bank         |
+-----+------+-----+------+--------------+
| 100 | s100 | 100 | N    | 비트은행     |
| 101 | s101 | 101 | Y    | 비트은행     |
| 102 | s102 | 102 | N    | 캠프은행     |
| 103 | s103 | 103 | Y    | 우리은행     |
| 104 | s104 | 104 | N    | 국민은행     |
+-----+------+-----+------+--------------+
5 rows in set (0.000 sec)

MariaDB [studydb]> /* 예전 문법 */
MariaDB [studydb]> select m.mno, name, s.mno, work, bank
    -> from memb m, stnt s
    -> where m.mno=s.mno;
+-----+------+-----+------+--------------+
| mno | name | mno | work | bank         |
+-----+------+-----+------+--------------+
| 100 | s100 | 100 | N    | 비트은행     |
| 101 | s101 | 101 | Y    | 비트은행     |
| 102 | s102 | 102 | N    | 캠프은행     |
| 103 | s103 | 103 | Y    | 우리은행     |
| 104 | s104 | 104 | N    | 국민은행     |
+-----+------+-----+------+--------------+
5 rows in set (0.000 sec)
```

- natural join 의 문제점
    - 1) 두 테이블의 조인 기준이 되는 컬럼 이름이 다를 때 연결되지 못한다. 
    - 2) 상관 없는 컬럼과 이름이 같을 때 잘못 연결된다.
    - 3) 같은 이름의 컬럼이 여러 개 있을 경우 잘못 연결된다. 
        - 모든 컬럼의 값이 일치할 경우에만 연결되기 때문이다.
