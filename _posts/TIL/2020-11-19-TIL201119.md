---
layout : post
title :  2020-11-19 TIL
categories : TIL
layout : single
toc : true 
toc_sticky : true
---

#

## 애플리케이션 서버 아키텍쳐

### old
- 클라이언트 -> 앱 -콜-> 코맨드 -> 서비스 -> DAO -> Mybatis -> DBMS
    - 현재 각각의 App 들이 하나의 DBMS를 공유한다.
    - 이렇게 하면 업그레이드를 했을 때 각 어플리케이션이 전부 업데이트를 해야한다.
        - DBMS 공유
            - 즉, 데이터 공유
    - 단점
        - DBMS 보완 문제
        - 해커가 접근 가능
        - 기능 업그레이드는 재설치

### new
- 클라이언트 -> 클라이언트 앱 <-요청, 응답-> 서버 앱 -콜-> 코맨드 -> 서비스 -> DAO -> Mybatis -> DBMS
    - 여러 개의 클라이언트 앱이 하나의 서버 앱과 연락을 하고 서버 앱은 DBMS와 통신을 주고받는다.
    - 해커는 DBMS에 접근할 수 없다.(방화벽 존재)
        - 직접 DBMS에 접근하지 않는 구조이다.
    - 기능이 업그레이드 되더라도 재설치는 할 필요가 없다.
    - 모든 기능은 서버에서 실행한다.

### v36-b server + v42 client = v43

#### 프로젝트에 라이브러리 추가하기
- build.gradle
    - mariadb jdbc 라이브러리 추가
    - mybatis 라이브러리 추가
    - gradle eclipse
    - 이클립스에서 프로젝트 갱신

#### 마이바티스 설정 파일 및 SQL 매퍼 파일을 가져온다.(서버로)
- mini-pms-42-client의 resource

#### 도메인 클래스를 가져온다.(서버로)
- mini-pms-42-client의 domain

#### dao 인터페이스와 구현체를 가져온다.(서버로)
- mini-pms-42-client의 dao

#### 서비스 인터페이스와 구현체를 가져온다.(서버로)
- mini-pms-42-client의 service

#### sqlSessiongFactoryProxy와 sqlSessionProxy 소스를 가져온다.(서버로)
- mini-pms-42-client의 util의 파일

#### 리스터를 통해 Dao 객체를 준비한다.
- 마이바티스 관련 객체를 준비한다.
- Dao 관련 객체를 준비한다.
- 리스너/AppInitListener.java에서 관련 코드를 가져온다.

#### 게시글 커맨드 객체를 변경한다.(서버)
- 데이터를 다룰 때 서비스 객체를 사용한다.


